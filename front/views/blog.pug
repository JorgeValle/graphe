extends layout

block content

  -var prettify = function(dateString) { var date = new Date(dateString), d = date.getDate(dateString), monthNames = ['January', 'February', 'March', 'April', 'May', 'June','July', 'August', 'September','October', 'November', 'December'],m = monthNames[date.getMonth()],y = date.getFullYear();return m + ' ' + d + ', ' + y;}
  -var quoteNumber = quotes.length
  -var postNumber = posts.length
  -var j = 0
  -var firstIndex = parseInt(startIndex)
  -var lastIndex = firstIndex + 9

  // Jorge's profile
  include profile

  // The blog query
  article.content

    h1.post-title Blog
    p I blog mostly about JavaScript and user interfaces. Lately, I have been also writing about machine learning.

    each post, index in posts

      - if (index >= firstIndex && index <= lastIndex) {
          a(href=`/blog/${post.content.slug}`, title=post.content.title)
            h2 #{post.content.title}
          em.post-date
            time #{prettify(post.date.created)}
          div !{post.content.description}
      - }

    nav.pagination

      - if (firstIndex > 0) {
        button(onclick="location.href='/blog?start=" + String(firstIndex - 10) + "'")
          i.material-icons arrow_back
      - }

      - if (lastIndex < postNumber) {
        button(onclick="location.href='/blog?start=" + String(firstIndex + 10) + "'")
          i.material-icons arrow_forward
      - }
  
  // Sidebar area
  include sidebar